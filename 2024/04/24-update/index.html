<!DOCTYPE html>
<html lang=en>
<head>
    <meta charset="utf-8">
    
    <title>Easter Update | Locutus</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="It’s been 17 years since I started this project (!), and I have a few nice updates to talk about that I’ve been tinkering on over Easter+, let’s go over them briefly. Automate NPM ReleasesAfter moving">
<meta property="og:type" content="article">
<meta property="og:title" content="Easter Update">
<meta property="og:url" content="https://locutus.io/2024/04/24-update/index.html">
<meta property="og:site_name" content="Locutus">
<meta property="og:description" content="It’s been 17 years since I started this project (!), and I have a few nice updates to talk about that I’ve been tinkering on over Easter+, let’s go over them briefly. Automate NPM ReleasesAfter moving">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://locutus.io/css/images/bunnies.webp">
<meta property="article:published_time" content="2024-04-05T00:00:00.000Z">
<meta property="article:modified_time" content="2024-04-06T05:47:34.542Z">
<meta property="article:author" content="Kevin van Zonneveld">
<meta property="article:tag" content="future">
<meta property="article:tag" content="js">
<meta property="article:tag" content="golang">
<meta property="article:tag" content="python">
<meta property="article:tag" content="ruby">
<meta property="article:tag" content="php">
<meta property="article:tag" content="c">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://locutus.io/css/images/bunnies.webp">
    

    

    

    
<link rel="stylesheet" href="/vendor/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/vendor/open-sans/styles.css">

    
<link rel="stylesheet" href="/vendor/source-code-pro/styles.css">


    
<link rel="stylesheet" href="/css/style.css">

    
<link rel="stylesheet" href="/css/locutus.css">


    
<script src="/vendor/jquery/2.1.3/jquery.min.js"></script>

    <script src="//kvz.github.io/on-the-githubs/js/jquery.on-the-githubs.min.js"></script>

    
    
        
<link rel="stylesheet" href="/vendor/fancybox/jquery.fancybox.css">

    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-63083-7', 'auto');
ga('send', 'pageview');

</script>
    
    
    

<meta name="generator" content="Hexo 7.1.1"><link rel="alternate" href="/atom.xml" title="Locutus" type="application/atom+xml">
</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">Locutus</span>
            </a>
            <nav id="main-nav">
                
                  <a class="main-nav-link" href="/c">C</a>
                
                  <a class="main-nav-link" href="/golang">Go</a>
                
                  <a class="main-nav-link" href="/python">Python</a>
                
                  <a class="main-nav-link" href="/ruby">Ruby</a>
                
                  <a class="main-nav-link" href="/php">PHP</a>
                
                <span class="main-nav-link">|</span>
                
                  <a class="main-nav-link" href="/archives">Blog</a>
                
                  <a class="main-nav-link" href="/authors">Authors</a>
                
            </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
        x: 'en',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    console.log(INSIGHT_CONFIG)
})(window);
</script>

<script src="/js/insight.js"></script>



</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                  <td><a class="main-nav-link" href="/c">C</a></td>
                
                  <td><a class="main-nav-link" href="/golang">Go</a></td>
                
                  <td><a class="main-nav-link" href="/python">Python</a></td>
                
                  <td><a class="main-nav-link" href="/ruby">Ruby</a></td>
                
                  <td><a class="main-nav-link" href="/php">PHP</a></td>
                
                <td><span class="main-nav-link">|</span></td>
                
                    <td><a class="main-nav-link" href="/archives">Blog</a></td>
                
                    <td><a class="main-nav-link" href="/authors">Authors</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
            <section id="main"><article id="post-24-update" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            Easter Update
        </h1>
    

                <div class="article-meta">
                  
                    
                    
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link-link" href="/tags/c/" rel="tag">c</a>, <a class="tag-link-link" href="/tags/future/" rel="tag">future</a>, <a class="tag-link-link" href="/tags/golang/" rel="tag">golang</a>, <a class="tag-link-link" href="/tags/js/" rel="tag">js</a>, <a class="tag-link-link" href="/tags/php/" rel="tag">php</a>, <a class="tag-link-link" href="/tags/python/" rel="tag">python</a>, <a class="tag-link-link" href="/tags/ruby/" rel="tag">ruby</a>
    </div>

                </div>
            </header>
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>It’s been 17 years since I started this project (!), and I have a few nice updates to talk about that I’ve been tinkering on over Easter+, let’s go over them briefly.</p>
<h2 id="Automate-NPM-Releases"><a href="#Automate-NPM-Releases" class="headerlink" title="Automate NPM Releases"></a>Automate NPM Releases</h2><p>After moving locutus to its own org on GitHub, in an effort to make it even more a community, than a solo effort, and giving several people admin access as core contributors, it remained an issue that only one person could push releases to NPM. This has now been fixed. If core contributors push a tag to git, our GHA CI will automatically cut an NPM release.</p>
<h2 id="Change-branches"><a href="#Change-branches" class="headerlink" title="Change branches"></a>Change branches</h2><p>In accordance with the new GitHub default, Locutus has also made the switch from <code>master</code> to <code>main</code>. If you visit the Repo as a contributor, GitHub will show you how to move over locally.</p>
<h2 id="Upgrade-deps"><a href="#Upgrade-deps" class="headerlink" title="Upgrade deps"></a>Upgrade deps</h2><p>Nearly all dependencies have been upgraded. This includes:</p>
<ul>
<li>Yarn 4, now managed by Corepack. If you have <code>node</code> (as of 18), you have <code>corepack</code>, and it will manage package managers for you, even multiple versions alongside one another, as specified by a project’s <code>package.json</code>. Yarn 4 is <em>much</em> faster than previous versions so you can even automatically run it now when switching branches.</li>
<li>Hexo, used for building the website</li>
<li>ESLint, standardJS</li>
</ul>
<p>And we added Prettier, for more powerful auto-formatting of code</p>
<h2 id="Improve-docs-copy"><a href="#Improve-docs-copy" class="headerlink" title="Improve docs &amp; copy"></a>Improve docs &amp; copy</h2><p>We clarified <a href="https://github.com/locutusjs/locutus/blob/main/CONTRIBUTING.md"><code>CONTRIBUTING.md</code></a> as well as our <a href="https://github.com/locutusjs/locutus/blob/main/README.md"><code>README.md</code></a>, and added remark to automaticallt add table of contents to these files upon <code>yarn fix</code>.</p>
<h2 id="Groom-issues"><a href="#Groom-issues" class="headerlink" title="Groom issues"></a>Groom issues</h2><p>I reviewed all issues and PRs and fixed the ones I could, resulting in the improved functions below. I also installed a <a href="https://github.com/locutusjs/locutus/blob/main/.github/workflows/stale.yml">Stale action</a> so that issues and PRs will automatically be marked as stale, and then closed if there is no more interest, as to keep a healthy issue board. It’s always possible to continue discussing, and then a stale issue won’t be closed.</p>
<h2 id="Improve-functions"><a href="#Improve-functions" class="headerlink" title="Improve functions"></a>Improve functions</h2><ul>
<li><code>bin2hex</code>: Add support for multi-byte characters (fixes #427)</li>
<li><code>escapeshellarg</code>: Add Windows support (fixes #395)</li>
<li><code>file_exists</code>: Introduced (in #461, thx @erikn69)</li>
<li><code>fmod</code>: Fix Uncaught RangeError: toFixed() digits argument must be between 0 and 100 (thx @dekairi, fixes #417)</li>
<li><code>strtotime</code>: Add support oracle dates (fixes #340)</li>
<li><code>unserialize</code>: Fix fail when serialized array contains (fixes #458, thx @kukawski)</li>
<li><code>var_dump</code>: Detect circular references (fixes #305)</li>
</ul>
<h2 id="Improve-testing"><a href="#Improve-testing" class="headerlink" title="Improve testing"></a>Improve testing</h2><p>It’s now possible to write custom tests instead of only writing tests as comments in function headers. For an example see <a href="https://github.com/locutusjs/locutus/blob/main/src/php/var/serialize.mocha.js"><code>src/php/var/serialize.mocha.js</code></a>.</p>
<p>We added <code>&#39;use strict&#39;</code> to generated tests to uncover more issues, and we made it clearer which tests are generated from function header comments.</p>
<p>In CI, we now test against Node 20.</p>
<h2 id="Open-Discussion-Forum"><a href="#Open-Discussion-Forum" class="headerlink" title="Open Discussion Forum"></a>Open Discussion Forum</h2><p>Check out <a href="https://github.com/locutusjs/locutus/discussions/471">https://github.com/locutusjs/locutus/discussions/471</a> :) </p>
<h2 id="Concluding"><a href="#Concluding" class="headerlink" title="Concluding"></a>Concluding</h2><p>All of these things should make it more enjoyable to hack on Locutus, and enable people to progress the project also when I’m not around, which happens :) Hope you’ll like it!</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://locutus.io/2024/04/24-update/" data-id="clunobpw000bhsop30amm3c35" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="https://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
    
        <a href="/2016/05/announcing-locutus/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Older</strong>
            <div class="article-nav-title">php.js is Dead - Long Live Locutus</div>
        </a>
    
</nav>


    
</article>


    
    <section id="comments">
    
    </section>


</section>
            
                <aside id="sidebar">
   
        

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/locutus-alpha.png" />
            <h2 id="name">Locutus</h2>
            <h3 id="title">All your standard libraries will be assimilated into our JavaScript collective. Resistance is futile.</h3>
            <!-- <span id="location"><i class="fa fa-map-marker"></i>GitHub</span> -->
            <!-- <a id="follow" target="_blank" href="https://github.com/locutusjs/locutus/stargazers">FOLLOW</a> -->

            <br />
            <div class="Social">
              <a href="https://twitter.com/locutus_io" class="twitter-follow-button" data-show-count="true" data-dnt="true">Follow @locutus_io</a><br />
              <br />
              <a class="github-button" href="https://github.com/locutusjs/locutus" data-size="large" data-show-count="true" aria-label="Star locutusjs/locutus on GitHub">Star</a>
            </div>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
              5
              <span>languages marked</span>
            </div>
            <div class="article-info-block">
                334
                <span>functions assimilated</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    <td><a href="https://github.com/locutusjs/locutus" target="_blank" title="github"><i class="fa fa-github"></i></a></td>
                    
                    <td><a href="https://twitter.com/locutus_io" target="_blank" title="twitter"><i class="fa fa-twitter"></i></a></td>
                    
                    <td><a href="/atom.xml" target="_blank" title="rss"><i class="fa fa-rss"></i></a></td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

<div class="clear"></div>

    
        <div class="widget-wrap widget-list">
  <h3 class="widget-title">on the githubs</h3>
  <div class="widget widget-on_the_githubs">
    <div class="on-the-githubs" data-event-source="repos/locutusjs/locutus">Loading...</div>
  </div>
</div>

    
        <div class="widget-wrap widget-list">
    <h3 class="widget-title">all functions</h3>
    <div class="widget">
      <ul>
      
        <li><a href="/c/">
          C
          (3)
        </a></li>
        
        <ul>
          <li><a href="/c/math/">
            math
            (2)
          </a></li>
        </ul>
        
        <ul>
          <li><a href="/c/stdio/">
            stdio
            (1)
          </a></li>
        </ul>
        
      
        <li><a href="/golang/">
          Go
          (4)
        </a></li>
        
        <ul>
          <li><a href="/golang/strings/">
            strings
            (4)
          </a></li>
        </ul>
        
      
        <li><a href="/python/">
          Python
          (5)
        </a></li>
        
        <ul>
          <li><a href="/python/string/">
            string
            (5)
          </a></li>
        </ul>
        
      
        <li><a href="/ruby/">
          Ruby
          (1)
        </a></li>
        
        <ul>
          <li><a href="/ruby/Math/">
            Math
            (1)
          </a></li>
        </ul>
        
      
        <li><a href="/php/">
          PHP
          (321)
        </a></li>
        
        <ul>
          <li><a href="/php/array/">
            array
            (73)
          </a></li>
        </ul>
        
        <ul>
          <li><a href="/php/bc/">
            bc
            (7)
          </a></li>
        </ul>
        
        <ul>
          <li><a href="/php/ctype/">
            ctype
            (11)
          </a></li>
        </ul>
        
        <ul>
          <li><a href="/php/datetime/">
            datetime
            (15)
          </a></li>
        </ul>
        
        <ul>
          <li><a href="/php/exec/">
            exec
            (1)
          </a></li>
        </ul>
        
        <ul>
          <li><a href="/php/filesystem/">
            filesystem
            (6)
          </a></li>
        </ul>
        
        <ul>
          <li><a href="/php/funchand/">
            funchand
            (5)
          </a></li>
        </ul>
        
        <ul>
          <li><a href="/php/i18n/">
            i18n
            (2)
          </a></li>
        </ul>
        
        <ul>
          <li><a href="/php/info/">
            info
            (6)
          </a></li>
        </ul>
        
        <ul>
          <li><a href="/php/json/">
            json
            (3)
          </a></li>
        </ul>
        
        <ul>
          <li><a href="/php/math/">
            math
            (46)
          </a></li>
        </ul>
        
        <ul>
          <li><a href="/php/misc/">
            misc
            (2)
          </a></li>
        </ul>
        
        <ul>
          <li><a href="/php/net-gopher/">
            net-gopher
            (1)
          </a></li>
        </ul>
        
        <ul>
          <li><a href="/php/network/">
            network
            (6)
          </a></li>
        </ul>
        
        <ul>
          <li><a href="/php/pcre/">
            pcre
            (4)
          </a></li>
        </ul>
        
        <ul>
          <li><a href="/php/strings/">
            strings
            (91)
          </a></li>
        </ul>
        
        <ul>
          <li><a href="/php/url/">
            url
            (8)
          </a></li>
        </ul>
        
        <ul>
          <li><a href="/php/var/">
            var
            (30)
          </a></li>
        </ul>
        
        <ul>
          <li><a href="/php/xdiff/">
            xdiff
            (2)
          </a></li>
        </ul>
        
        <ul>
          <li><a href="/php/xml/">
            xml
            (2)
          </a></li>
        </ul>
        
      
      </ul>
    </div>
</div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">recent posts</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2024/04/24-update/" class="thumbnail">
    
    
        <span style="background-image:url(/css/images/bunnies.webp)" alt="Easter Update" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2024/04/24-update/" class="title">Easter Update</a></p>
                            <p class="item-date"><time datetime="2024-04-05T00:00:00.000Z" itemprop="datePublished">2024-04-05</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/05/announcing-locutus/" class="thumbnail">
    
    
        <span style="background-image:url(/css/images/locutus-alpha.png)" alt="php.js is Dead - Long Live Locutus" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2016/05/announcing-locutus/" class="title">php.js is Dead - Long Live Locutus</a></p>
                            <p class="item-date"><time datetime="2016-05-02T00:00:00.000Z" itemprop="datePublished">2016-05-02</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/04/breaking-bc/" class="thumbnail">
    
    
        <span style="background-image:url(https://imgc.allpostersimages.com/images/P-488-488-90/55/5543/C6HLG00Z/posters/warning-zombies-ahead.jpg)" alt="Breaking Backwards Compatibility" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2016/04/breaking-bc/" class="title">Breaking Backwards Compatibility</a></p>
                            <p class="item-date"><time datetime="2016-04-20T00:00:00.000Z" itemprop="datePublished">2016-04-20</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>
            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2007-2024 Kevin van Zonneveld and <a href="/authors">authors</a>.<br>
            Arwork by <a href="https://troydodd.deviantart.com/art/Locutus-of-Borg-217586598">Troy Dodd</a>.

        </div>
    </div>
</footer>

        

    
        
<script src="/vendor/fancybox/jquery.fancybox.pack.js"></script>

    


<!-- Custom Scripts -->

<script src="/js/main.js"></script>


<script src="/js/locutus.js"></script>


<!-- Place this tag in your head or just before your close body tag. -->
<script async defer src="https://buttons.github.io/buttons.js"></script>

<!-- Twitter follow button script -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

    </div>
</body>
</html>